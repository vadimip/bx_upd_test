<? namespace Bitrix\Landing;$GLOBALS['____1176599799']= array(base64_decode('ZGVma'.'W5l'),base64_decode('ZXhw'.'bG9'.'kZQ'.'='.'='),base64_decode('c'.'GFjaw=='),base64_decode('bWQ1'),base64_decode('Y29uc3'.'RhbnQ='),base64_decode('aGFza'.'F'.'9o'.'b'.'WFj'),base64_decode('c3RyY21w'),base64_decode('ZXhwbG9'.'kZQ=='),base64_decode('bWt'.'0a'.'W1l'),base64_decode('dGltZ'.'Q='.'='),base64_decode('a'.'W5'.'fY'.'XJy'.'YX'.'k'.'='),base64_decode('cHJl'.'Z'.'19yZXB'.'sYWNl'.'X2NhbGxiYW'.'N'.'r'),base64_decode('bWJfc3RydG'.'9sb'.'3d'.'l'.'cg'.'='.'='),base64_decode('c'.'3'.'RyX3JlcGx'.'hY'.'2U='),base64_decode('cHJlZ19tYXR'.'jaA'.'=='),base64_decode('cHJlZ19'.'yZXBsY'.'WNlX2NhbG'.'xiY'.'WNr'));if(!function_exists(__NAMESPACE__.'\\___897486323')){function ___897486323($_663857326){static $_1439631943= false; if($_1439631943 == false) $_1439631943=array('TEFOR'.'ElO'.'R'.'1'.'9'.'NVVRBV'.'E9S'.'X01PREU'.'=','b'.'G'.'FuZGluZw='.'=','b25MYW5k'.'a'.'W5nU3RhcnRQdWJsaWN'.'hdGlvbg==','aW'.'Q=',''.'c2l0ZUlk','Zmlsd'.'GVy','IU'.'l'.'E','UFVCTEl'.'DX1B'.'BR'.'0VfUkVBQ'.'0'.'h'.'FRA==','bG'.'lt'.'aXR'.'fc2'.'l0'.'Z'.'X'.'NfbnVtYmVyX3BhZ2'.'U=','S'.'U5JVEl'.'BVE9S'.'X0'.'FQUF9D'.'T0'.'RF','cmVzdA==','Z'.'ml'.'sdGVy',''.'PUNPR'.'EU=','SU5JVE'.'lBVE9SX0FQUF9DT0RF','','UEFZTU'.'V'.'O'.'VF9BT'.'ExPVw==','WQ==','T'.'EFO'.'RE'.'lOR19QQVlNRU5'.'UX0ZB'.'SUxFRA==',''.'bGF'.'u'.'ZGlu'.'Z19wY'.'XltZW50X2'.'ZhaWxlZF8'.'y',''.'c2VsZWN0','S'.'UQ=','VFlQRQ==','Zmlsd'.'G'.'V'.'y','SUQ=','PUFDVE'.'l'.'WRQ==',''.'Tg='.'=',''.'Q0hFQ0'.'tf'.'UE'.'VSTUlTU0lPTl'.'M=','Tg==','ZmlsdGV'.'y','IUlE',''.'SUQ=','dHlwZQ==',''.'VFlQRQ'.'==','UFVCTElDX1NJV'.'E'.'VfU'.'kVBQ0hF'.'RA='.'=','bGlta'.'XRfc2'.'l0ZXN'.'fbnVt'.'YmVy','c2VsZWN0','SUQ=','Zml'.'sd'.'GVy','U0lURV9JRA==','Q0'.'h'.'FQ0'.'tfUEVSTUlTU'.'0lPTlM=','T'.'g='.'=','SUQ=','c'.'2V'.'sZWN'.'0','SUQ'.'=','RU5USVRZ'.'X1RZUE'.'U=',''.'RU5USVR'.'ZX0lE','Z'.'ml'.'sdGVy','TE'.'9HSUM=','T1I=','PUV'.'OVE'.'lUWV'.'9UWVBF','RU'.'5USVRZX0l'.'E',''.'PUVOVElUWV9'.'UWVBF','RU5US'.'V'.'RZX'.'0lE','PUhPT0s=','SEVBREJMT0NL','PUNPREU=','VVNF','PVZBTFVF',''.'WQ'.'==','bGlta'.'XQ=','UFV'.'C'.'TElDX0'.'h'.'UT'.'U'.'xfREl'.'TQUxMT1d'.'FR'.'Fs=','RU5US'.'VRZ'.'X1RZUEU=','RU5USV'.'RZX0lE','XQ==',''.'bGl'.'t'.'aXRfc2l0ZXN'.'faHR'.'tbF9qcw==','bGFuZG'.'luZw==','b'.'25MYW5kaW'.'5nUHVib'.'GljYXRpb'.'24=','aW'.'Q=','Y'.'ml0cml'.'4MjQ=','R'.'EI=','U0'.'VMRUNUIFZBTF'.'VFIEZST00'.'gYl9vcHRpb24g'.'V0hFUk'.'Ug'.'TkFNRT0nflBBU'.'kFNX0'.'ZJ'.'TklTSF9E'.'QVRFJyBBTk'.'Q'.'gTU9EV'.'UxFX0l'.'E'.'P'.'Sd'.'tY'.'Wlu'.'J'.'yB'.'BTkQ'.'gU0lU'.'RV'.'9J'.'RCBJUyB'.'OVUxM',''.'VkFMVUU=','L'.'g==',''.'S'.'Co=',''.'Yml0cml4','TEl'.'DR'.'U5TRV9LRVk'.'=','c'.'2hhMjU2','Mj'.'AxOC0wMS0w'.'MQ'.'==','MjAx'.'OC0wM'.'S0wM'.'Q==',''.'LQ'.'==','TElD'.'R'.'U5TRV'.'9'.'FWF'.'BJUkV'.'E','TEFOR'.'ElOR19'.'MSU'.'NFTl'.'N'.'FX0VYUElSRU'.'Q'.'=',''.'QUN'.'USVZF','WQ==','U'.'FVCTElD','W'.'Q='.'=','RE'.'FURV9QVUJMS'.'UM=','REF'.'UR'.'V9N'.'T0RJRlk=',''.'QUNUSVZF','WQ==','LyhbXDsiXXswLDF9KS'.'NibG9jay'.'hbXG'.'R'.'dKy'.'koW1'.'w'.'m'.'Il17M'.'CwxfSkv'.'aXM'.'=','c'.'2VsZ'.'W'.'N0','S'.'UQ=','UFVCTElD','UEFS'.'RU5UX0l'.'E','Q09'.'ERQ==','U09'.'SVA==','QUNUSVZ'.'F',''.'QU5'.'D'.'SE9'.'S',''.'QUNDRV'.'NT','Q09OVEVOVA==','U0VBUkNIX0N'.'P'.'TlRFTlQ=',''.'U09VU'.'kNFX1BB'.'UkF'.'NUw==',''.'QVNTRV'.'RT','WE1MX0lE','ZmlsdGVy','TElE','PURF'.'TEVURU'.'Q=','T'.'g==','SU'.'Q=','UF'.'VCT'.'ElD','W'.'Q==','Q09OV'.'EVO'.'VA==','L2'.'hyZ'.'W'.'Z'.'cPSIjY2F0YWxvZy'.'hFbGVtZW50f'.'FNlY3'.'Rpb24'.'pK'.'FtcZF0rKSIv'.'aQ==','aHJlZj0i','Ig==','Q09'.'OVEVO'.'VA==','Q09'.'OVEV'.'O'.'VA==','Y'.'29'.'udGVu'.'dGVka'.'XR'.'hYmxl'.'PSJ0'.'cnVlIg==','','Q0'.'9OV'.'EVOVA==','UEFSRU5'.'UX0lE','UEFSRU5UX0l'.'E','SUQ=','U09S'.'V'.'A==','U09S'.'VA==','Q'.'UNUSV'.'Z'.'F','QUNUSVZF','QU5DSE9S','QU5DSE9S','WE1MX0lE','W'.'E1'.'MX0lE','QUN'.'DR'.'VNT','QUNDRV'.'NT','U09VUk'.'NFX1BB'.'UkFNUw==','U'.'09VUkNFX1BBUk'.'FN'.'Uw'.'==',''.'Q09'.'OVEVO'.'V'.'A==','Q0'.'9OVEV'.'OVA==','U'.'0V'.'BU'.'k'.'NIX0NPTlRFTlQ=','U0VBUkNIX0NP'.'Tl'.'R'.'FT'.'lQ=','QV'.'N'.'T'.'RVRT',''.'QVNTRV'.'RT','U'.'EFSRU5UX0lE','Q09OV'.'EVO'.'VA==','TEl'.'E','Q09ERQ'.'==','Q09E'.'RQ'.'==','U09SVA==','U0'.'9SVA'.'='.'=',''.'Q'.'U5DSE9'.'S','QU5'.'D'.'SE9S',''.'QU5D'.'SE9S','Yg==','WE1MX0lE','WE'.'1M'.'X0lE','QU'.'NU'.'SVZF','Q'.'UN'.'U'.'SVZF','QU'.'NDRVNT','QUNDRVNT','U0'.'9VU'.'kNF'.'X1BBU'.'k'.'FNUw='.'=','U09VUkN'.'FX1BBUk'.'FN'.'Uw==','Q09'.'OVEV'.'OVA==','Q'.'09OVE'.'VOV'.'A'.'==','U0VBU'.'kNIX0N'.'PTlRF'.'Tl'.'Q'.'=',''.'U0VB'.'UkNIX0'.'N'.'PTlR'.'FTlQ'.'=','Q'.'VNTRVRT',''.'QVNTRVRT','U'.'EFS'.'R'.'U5U'.'X0lE','Q09OV'.'EVOVA==','Q'.'09'.'OVEVOVA==','Q09'.'OVEVOVA==',''.'I2Js'.'b'.'2Nr','I2Js'.'b2Nr','Q09O'.'V'.'EV'.'OVA==');return base64_decode($_1439631943[$_663857326]);}}; use \Bitrix\Landing\Internals\HookDataTable as HookData; use \Bitrix\Landing\Assets; use \Bitrix\Landing\Block\Cache; use \Bitrix\Landing\Restriction; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; use \Bitrix\Rest\AppTable; Loc::loadMessages(__FILE__); $GLOBALS['____1176599799'][0](___897486323(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_129023734= array(); Manager::disableAllFeaturesTmp();  $_490755987= new Event(___897486323(1), ___897486323(2), array( ___897486323(3) => $landing->getId(), ___897486323(4) => $landing->getSiteId())); $_490755987->send(); foreach($_490755987->getResults() as $_1845098116){ if($_1845098116->getType() == EventResult::ERROR){ foreach($_1845098116->getErrors() as $_1465067144){ $landing->getError()->addError( $_1465067144->getCode(), $_1465067144->getMessage());} return false;}}  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___897486323(5) => array( ___897486323(6) => $landing->getId())))){ $landing->getError()->addError( ___897486323(7), Restriction\Manager::getSystemErrorMessage(___897486323(8))); return false;}  $_57253209= $landing->getMeta(); if( isset($_57253209[___897486323(9)]) && \Bitrix\Main\Loader::includeModule(___897486323(10))){ $_1036746864= AppTable::getList([ ___897486323(11) =>[ ___897486323(12) => $_57253209[___897486323(13)]]]); if($_1122318974= $_1036746864->fetch()){ $_85757021= AppTable::getAppStatusInfo($_1122318974, ___897486323(14)); if($_85757021[___897486323(15)] != ___897486323(16)){ $landing->getError()->addError( ___897486323(17), Restriction\Manager::getSystemErrorMessage(___897486323(18))); return false;}}}  $_1036746864= Site::getList(array( ___897486323(19) => array( ___897486323(20), ___897486323(21)), ___897486323(22) => array( ___897486323(23) => $landing->getSiteId(), ___897486323(24) => ___897486323(25), ___897486323(26) => ___897486323(27)))); if($_1122318974= $_1036746864->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___897486323(28) => array( ___897486323(29) => $_1122318974[___897486323(30)]), ___897486323(31) => $_1122318974[___897486323(32)]))){ $landing->getError()->addError( ___897486323(33), Restriction\Manager::getSystemErrorMessage(___897486323(34))); return false;}}  if(\Bitrix\Landing\Hook\Page\HeadBlock::isLockedFeature()){ $_983182703=[$landing->getId()];  $_1036746864= Landing::getList([ ___897486323(35) =>[ ___897486323(36)], ___897486323(37) =>[ ___897486323(38) => $landing->getSiteId(), ___897486323(39) => ___897486323(40)]]); while($_1122318974= $_1036746864->fetch()){ $_983182703[]= $_1122318974[___897486323(41)];} $_1036746864= HookData::getList([ ___897486323(42) =>[ ___897486323(43), ___897486323(44), ___897486323(45)], ___897486323(46) =>[[ ___897486323(47) => ___897486323(48),[ ___897486323(49) => Hook::ENTITY_TYPE_SITE, ___897486323(50) => $landing->getSiteId()],[ ___897486323(51) => Hook::ENTITY_TYPE_LANDING, ___897486323(52) => $_983182703]], ___897486323(53) => ___897486323(54), ___897486323(55) => ___897486323(56), ___897486323(57) => ___897486323(58)], ___897486323(59) => round(0+1)]); if($_1122318974= $_1036746864->fetch()){ $landing->getError()->addError( ___897486323(60). $_1122318974[___897486323(61)]. $_1122318974[___897486323(62)]. ___897486323(63), Restriction\Manager::getSystemErrorMessage(___897486323(64))); return false;}}  $_490755987= new Event(___897486323(65), ___897486323(66), array( ___897486323(67) => $landing->getId())); $_490755987->send(); foreach($_490755987->getResults() as $_1845098116){ if($_1845098116->getResultType() == EventResult::ERROR){ foreach($_1845098116->getErrors() as $_1465067144){ $landing->getError()->addError( $_1465067144->getCode(), $_1465067144->getMessage());} return false;}} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___897486323(68))){ $_814715961= $GLOBALS[___897486323(69)]->Query(___897486323(70), true); if($_1036746864= $_814715961->Fetch()){ $_2061999464= $_1036746864[___897486323(71)]; list($_677433018, $_4182043)= $GLOBALS['____1176599799'][1](___897486323(72), $_2061999464); $_635230595= $GLOBALS['____1176599799'][2](___897486323(73), $_677433018); $_541426899= ___897486323(74).$GLOBALS['____1176599799'][3]($GLOBALS['____1176599799'][4](___897486323(75))); $_2075979980= $GLOBALS['____1176599799'][5](___897486323(76), $_4182043, $_541426899, true); if($GLOBALS['____1176599799'][6]($_2075979980, $_635230595) !==(960-2*480)){ $_4182043= ___897486323(77);}} else{ $_4182043= ___897486323(78);} if(!empty($_4182043)){ $_2106352139= $GLOBALS['____1176599799'][7](___897486323(79), $_4182043); $_2137693532= $GLOBALS['____1176599799'][8]((1268/2-634),(892-2*446), min(14,0,4.6666666666667), $_2106352139[round(0+1)], $_2106352139[round(0+0.4+0.4+0.4+0.4+0.4)], $_2106352139[(144*2-288)]); if($_2137693532 <= $GLOBALS['____1176599799'][9]()){ $landing->getError()->addError( ___897486323(80), Loc::getMessage(___897486323(81))); return false;}}} Hook::setEditMode(); Hook::publicationSite($landing->getSiteId()); Hook::publicationLanding($landing->getId()); Assets\Manager::rebuildWebpackForLanding($landing->getId());  Block::publicationBlocks($landing); $_873280323= new \Bitrix\Main\Type\DateTime; $_1036746864= Landing::update($landing->getId(), array( ___897486323(82) => ___897486323(83), ___897486323(84) => ___897486323(85), ___897486323(86) => $_873280323, ___897486323(87) => false));  if($_1036746864->isSuccess()){ if(!$GLOBALS['____1176599799'][10]($landing->getSiteId(), $_129023734)){ $_129023734[]= $landing->getSiteId(); $_1036746864= Site::update($landing->getSiteId(), array( ___897486323(88) => ___897486323(89))); if(!$_1036746864->isSuccess()){ $landing->getError()->addFromResult( $_1036746864); return false;}} return true;} else{ $landing->getError()->addFromResult( $_1036746864);} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_1286973478= $landing->getId(); $_563740135= array(); $_469709198= array(); $_1464278882= array(); $_1593732334= ___897486323(90); $_1036746864= Block::getList(array( ___897486323(91) => array( ___897486323(92), ___897486323(93), ___897486323(94), ___897486323(95), ___897486323(96), ___897486323(97), ___897486323(98), ___897486323(99), ___897486323(100), ___897486323(101), ___897486323(102), ___897486323(103), ___897486323(104)), ___897486323(105) => array( ___897486323(106) => $landing->getId(), ___897486323(107) => ___897486323(108)))); while($_1122318974= $_1036746864->fetch()){ $_563740135[$_1122318974[___897486323(109)]]= $_1122318974;}  foreach($_563740135 as $_2025027790 => $_1025506960){ if($_1025506960[___897486323(110)] != ___897486323(111)){  $_1025506960[___897486323(112)]= $GLOBALS['____1176599799'][11]( ___897486323(113), function($_1150507259){ return ___897486323(114). PublicAction\Utils::getIblockURL( $_1150507259[round(0+0.4+0.4+0.4+0.4+0.4)], $GLOBALS['____1176599799'][12]($_1150507259[round(0+0.2+0.2+0.2+0.2+0.2)])). ___897486323(115);}, $_1025506960[___897486323(116)]);  $_1025506960[___897486323(117)]= $GLOBALS['____1176599799'][13]( ___897486323(118), ___897486323(119), $_1025506960[___897486323(120)]); $_301838394= isset($_563740135[$_1025506960[___897486323(121)]])? $_563740135[$_1025506960[___897486323(122)]][___897486323(123)]:(768-2*384); if($_301838394){ Cache::clear($_301838394); $_1036746864= Block::update($_301838394, array( ___897486323(124) => $_1025506960[___897486323(125)], ___897486323(126) => $_1025506960[___897486323(127)], ___897486323(128) => $_1025506960[___897486323(129)], ___897486323(130) => $_1025506960[___897486323(131)], ___897486323(132) => $_1025506960[___897486323(133)], ___897486323(134) => $_1025506960[___897486323(135)], ___897486323(136) => $_1025506960[___897486323(137)], ___897486323(138) => $_1025506960[___897486323(139)], ___897486323(140) => $_1025506960[___897486323(141)])); $_1036746864->isSuccess(); unset($_563740135[$_1025506960[___897486323(142)]]);  File::replaceInBlock( $_301838394, File::getFilesFromBlockContent( $_2025027790, $_1025506960[___897486323(143)])); Assets\PreProcessing::blockPublicationProcessing(new Block($_301838394));} else{ $_1036746864= Block::add(array( ___897486323(144) => $_1286973478, ___897486323(145) => $_1025506960[___897486323(146)], ___897486323(147) => $_1025506960[___897486323(148)], ___897486323(149) => $_1025506960[___897486323(150)]? $_1025506960[___897486323(151)]: ___897486323(152). $_2025027790, ___897486323(153) => $_1025506960[___897486323(154)], ___897486323(155) => $_1025506960[___897486323(156)], ___897486323(157) => $_1025506960[___897486323(158)], ___897486323(159) => $_1025506960[___897486323(160)], ___897486323(161) => $_1025506960[___897486323(162)], ___897486323(163) => $_1025506960[___897486323(164)], ___897486323(165) => $_1025506960[___897486323(166)])); if($_1036746864->isSuccess()){ $_301838394= $_1036746864->getId(); $_1036746864= Block::update($_2025027790, array( ___897486323(167) => $_301838394)); $_1036746864->isSuccess();  File::addToBlock( $_301838394, File::getFilesFromBlockContent( $_2025027790, $_1025506960[___897486323(168)])); Assets\PreProcessing::blockPublicationProcessing(new Block($_301838394));}} if($GLOBALS['____1176599799'][14]($_1593732334, $_1025506960[___897486323(169)])){ $_469709198[$_301838394]= $_1025506960[___897486323(170)];} $_1464278882[$_2025027790]= $_301838394; unset($_563740135[$_2025027790]);}}  foreach($_563740135 as $_2025027790 => $_1025506960){ $_1036746864= Block::delete($_2025027790); $_1036746864->isSuccess();}  foreach($_469709198 as $_2025027790 => $_1055756705){ $_1055756705= $GLOBALS['____1176599799'][15]( $_1593732334, function($_72855118) use($_1464278882){ if(isset($_1464278882[$_72855118[round(0+0.5+0.5+0.5+0.5)]])){ return $_72855118[round(0+0.5+0.5)]. ___897486323(171). $_1464278882[$_72855118[round(0+1+1)]]. $_72855118[round(0+0.75+0.75+0.75+0.75)];} else{ return $_72855118[round(0+0.25+0.25+0.25+0.25)]. ___897486323(172). $_72855118[round(0+2)]. $_72855118[round(0+0.75+0.75+0.75+0.75)];}}, $_1055756705); $_1036746864= Block::update($_2025027790, array( ___897486323(173) => $_1055756705)); $_1036746864->isSuccess();}}}}?>